<html>
<head><title>Minecraft Map Viewer and Dungeon Finder</title>
<link href='http://fonts.googleapis.com/css?family=Ubuntu|Play' rel='stylesheet' type='text/css'>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
<style>
body, p, div {
  background-color: #6D839C;
  font-family: 'Ubuntu', sans-serif;
  color: #fff;
  font-size: 14pt;
  text-shadow:2px 2px 2px #0F1517;
}

body {
  margin-left: auto;
  margin-right: auto;
  position: relative;
  width: 95%;
}

h1 {
  font-family: 'Play', sans-serif;
  margin-top: 0px;
  padding-top: 0px;
}

.container, p.container, p {
  background-color: #212E33;
  border-radius: 15px;
}
.container {
  position: relative;
  padding: 25px;
  width: 95%;
}

a, a:visited {
  color: #fff;
}

</style>
<script>
function calcName() {
  var regionx = Math.floor($('#x').val()*1 / 512);
  var regionz = Math.floor($('#z').val()*1 / 512);
  $('#fname').html('r.'+regionx.toString()+'.'+regionz.toString()+'.mca');
}

function open_in_new_tab(url ) {
  window.open(url, '_blank');
  window.focus();
}

$(document).ready(function() {
  $('#x,#z').change(function() {
    calcName();
  });

  $('#view').click(function() {
    open_in_new_tab(encodeURI('viewer.html?url='+$('#url').val()+"&x="+$('#x').val()+"&y="+$('#y').val()+"&z="+$('#z').val() + "&size=6&showstuff=diamondsmoss&ymin=0"));
  });

  calcName();
})

</script>
</head>
<body>
<div class="container">
<h1>Minecraft Map Viewer and Dungeon Finder</h1>

</script><p>This is an online 3D Minecraft map viewer and dungeon finder that requires WebGL (new Firefox/Chrome). </p>

<p><a href="http://localhost:3000/viewer.html?url=r.0.0.mca&x=172&y=67&z=189&size=6&showstuff=diamondsmoss&ymin=0">Click here to launch viewer with demo data.</a></p>

<p>(Google translate of description in case Baidu will pick it up) minecraft地图浏览器地牢发现者 (minecraft dì tú liú lǎn qì dì láo fā xiàn zhě)</p>

<script type="text/javascript"><!--

google_ad_client = "ca-pub-1605512859966157";

/* tmc1 */

google_ad_slot = "7749536034";

google_ad_width = 728;

google_ad_height = 90;

//-->

</script>

<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

<h2>Step 1:&nbsp;&nbsp; Determine Minecraft coordinates</h2>
<p>To determine Minecraft coordinates, hit F3 in Minecraft. Enter x and z coordinates rounded to whole numbers below. Filename will update automatically.</p>

<p>x: &nbsp;<input id="x" name="x" size="3" type="number" value="0" />
y: &nbsp;<input id="y" name="y" size="3" type="number" value="70">
z: &nbsp;
<input id="z" name="x" size="3" type="number" value="0" /></p>

<h2>Step 2 (optional): &nbsp;Upload .mca File</h2>
<p>You will need to locate your .mca file inside of the .minecraft/saves/[worldname]/region folder. Based on the coordinates you entered, the filename should be <span id="fname"></span>.</p>
<p>Once you have determined the correct file, you have two choices: 
<br/><br/><b>A)</b> to enable sharing with others, upload it to a web server that supports direct downloads and cross-origin resource sharing (http://enable-cors.org/) and enter the URL below:</p>

<input type="text" id="url" size="80"/>

<p><b>OR B) </b>just press the View button and you can select the file from your local machine on the next screen.</p>

<h2>Step 3: &nbsp;&nbsp; Launch Viewer</h2>
<button id="view">View</button>
</div>

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-25678702-1']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

</body>
</html>
